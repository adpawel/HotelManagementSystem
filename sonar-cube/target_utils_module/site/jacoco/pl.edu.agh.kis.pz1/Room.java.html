<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="pl"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Room.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Module for utilities</a> &gt; <a href="index.source.html" class="el_package">pl.edu.agh.kis.pz1</a> &gt; <span class="el_source">Room.java</span></div><h1>Room.java</h1><pre class="source lang-java linenums">package pl.edu.agh.kis.pz1;

import java.time.LocalDate;
import java.time.temporal.ChronoUnit;
import java.util.ArrayList;
import java.util.List;

import static java.lang.Math.max;


/**
 * Represents a hotel room with various attributes such as room number, price, type, capacity, etc.
 * It also allows for managing guest reservations and calculating the room price for the stay based on the
 * number of days.
 */
public class Room {
    private int number;
    private int price;
    private String type;
    private int capacity;
    private List&lt;Guest&gt; guests;
    private LocalDate startDate;
    private LocalDate endDate;
    private String additionalInfo;

    /**
     * Constructs a new Room object with the specified attributes.
     *
     * @param number    the room number
     * @param price     the price per night for the room
     * @param type      the type of the room (e.g., single, double, suite)
     * @param capacity  the maximum number of guests the room can accommodate
     */
<span class="fc" id="L34">    public Room(int number, int price, String type, int capacity) {</span>
<span class="fc" id="L35">        this.number = number;</span>
<span class="fc" id="L36">        this.price = price;</span>
<span class="fc" id="L37">        this.type = type;</span>
<span class="fc" id="L38">        this.capacity = capacity;</span>
<span class="fc" id="L39">        this.guests = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L40">    }</span>

    /**
     * Getter for room number
     * @return number
     */
    public int getNumber() {
<span class="fc" id="L47">        return number;</span>
    }

    /**
     * Setter number
     * @param number integer
     */
    public void setNumber(int number) {
<span class="nc" id="L55">        this.number = number;</span>
<span class="nc" id="L56">    }</span>

    /**
     * Getter for price
     * @return price
     */
    public int getPrice() {
<span class="fc" id="L63">        return price;</span>
    }

    /**
     * Setter for price
     * @param price integer
     */
    public void setPrice(int price) {
<span class="fc" id="L71">        this.price = price;</span>
<span class="fc" id="L72">    }</span>

    /**
     * Getter for type
     * @return type
     */
    public String getType() {
<span class="fc" id="L79">        return type;</span>
    }

    /**
     * Setter for type
     * @param type String
     */
    public void setType(String type) {
<span class="nc" id="L87">        this.type = type;</span>
<span class="nc" id="L88">    }</span>

    /**
     * Getter for capacity
     * @return capacity
     */
    public int getCapacity() {
<span class="fc" id="L95">        return capacity;</span>
    }

    /**
     * Setter for capacity
     * @param capacity integer
     */
    public void setCapacity(int capacity) {
<span class="nc" id="L103">        this.capacity = capacity;</span>
<span class="nc" id="L104">    }</span>

    /**
     * Getter for list of guests
     * @return guests
     */
    public List&lt;Guest&gt; getGuests() {
<span class="fc" id="L111">        return guests;</span>
    }

    /**
     * Setter for guests list
     * @param guests List of guests
     */
    public void setGuests(List&lt;Guest&gt; guests) {
<span class="fc" id="L119">        this.guests = guests;</span>
<span class="fc" id="L120">    }</span>

    /**
     * Getter for start date of stay
     * @return startDate
     */
    public LocalDate getStartDate() {
<span class="fc" id="L127">        return startDate;</span>
    }

    /**
     * Setter for startDate
     * @param startDate LocalDate
     */
    public void setStartDate(LocalDate startDate) {
<span class="fc" id="L135">        this.startDate = startDate;</span>
<span class="fc" id="L136">    }</span>

    /**
     * Getter for end date of stay
     * @return endDate
     */
    public LocalDate getEndDate() {
<span class="fc" id="L143">        return endDate;</span>
    }

    /**
     * Setter for endDate
     * @param endDate LocalDate
     */
    public void setEndDate(LocalDate endDate) {
<span class="fc" id="L151">        this.endDate = endDate;</span>
<span class="fc" id="L152">    }</span>

    /**
     * Getter for additional information
     * @return additionalInfo
     */
    public String getAdditionalInfo() {
<span class="fc" id="L159">        return additionalInfo;</span>
    }

    /**
     * Setter for additional information
     * @param additionalInfo String
     */
    public void setAdditionalInfo(String additionalInfo) {
<span class="fc" id="L167">        this.additionalInfo = additionalInfo;</span>
<span class="fc" id="L168">    }</span>

    /**
     * Clears the room's guest list, booking dates, and additional information.
     * This can be used to reset the room after a guest checks out.
     */
    public void clear(){
<span class="fc" id="L175">        guests.clear();</span>
<span class="fc" id="L176">        startDate = null;</span>
<span class="fc" id="L177">        endDate = null;</span>
<span class="fc" id="L178">        additionalInfo = null;</span>
<span class="fc" id="L179">    }</span>

    /**
     * Checks if the room is free (i.e., if there are no guests currently booked).
     *
     * @return true if the room is free, false otherwise
     */
    public boolean isFree(){
<span class="fc" id="L187">        return guests.isEmpty();</span>
    }

    /**
     * Calculates the price of the room based on the number of days the room has been booked.
     * If the room has been booked in the past, it calculates the price based on the start date.
     * If the room is free, it calculates the price for the current date.
     *
     * @return the calculated price of the room
     */
    public long calculatePrice(){
<span class="fc" id="L198">        LocalDate today = LocalDate.now();</span>
<span class="fc" id="L199">        System.out.println(startDate.toString() + &quot; -- &quot; + today);</span>
<span class="fc" id="L200">        return max(price, ChronoUnit.DAYS.between(startDate, today) * price);</span>
    }

    /**
     * Returns a string representation of the room with its number, price, type, and capacity.
     *
     * @return a string representation of the room
     */
    @Override
    public String toString() {
<span class="nc" id="L210">        return &quot;Pok√≥j nr &quot; + number + &quot;, cena: &quot; + price + &quot;, typ:&quot; + type + &quot;, &quot; + capacity + &quot;-osobowy&quot;;</span>
    }
}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>